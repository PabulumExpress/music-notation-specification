# 术语

# 排版参数
* 输出尺寸(不包含标题作者等页面内容的尺寸)
  必选
* 声部分组
  必选，将主音乐的声部分组，分配到若干个乐器上。这些乐器可能使用多个Staff，每个Staff也可能对应多个声部，所以在排版时需要确定一个主音乐的声部属于哪个乐器的哪一个Staff的哪一个声部。
* 技巧适配器
  可选，用于配置在不同乐器的乐谱间进行转换时的偏好。如果未配置，则采用默认的规则进行转换，可能会丢失一些技巧相关的细节。

# 主音乐
主音乐原则上以时间顺序记录与声音有关的信息。值得注意的是，实际听到的声音与乐谱并不一定匹配，原因有：
* 演奏时的误差
* 动态时值
* 倚音在乐谱上不占用时值
* 受关于演奏技巧的符号影响，比如有颤音的情况下（颤音的频率是未定义的）
* 强弱变化实际上与乐器相关（键盘和拨奏的乐器在单个音上只有渐弱，而弦乐的强弱变化则丰富得多）

采用主音乐的目的是在尽可能的还原声音序列的情况下还原乐谱的有效信息。具有一下特点：
* 对于颤音等装饰音符号下的音符，采用乐谱上的声音序列而不是实际听到的声音序列（即在主音乐中忽略装饰音）
* 不使用各种重复及跳转记号，声音序列以唯一的形式保存（在排版时根据策略自动产生重复标记）

主音乐元信息
* 音高/休止/未指定音高
* 时值（分数表示）/未指定时值
* 节拍（分数表示）
* 声部
    值域[1,16]
* 是否为倚音
* 倚音组
TODO

# Music Font

# Bar

# Measure

# Staff
单个Staff可以对应多个声部

# Simultanious

# Staff Group
一个乐器对应一个StaffGroup（特殊地，在交响乐乐谱中可能会出现一提二提，这情况下视为不同的乐器）

# 技巧
技巧通常与乐器相关。
技巧指的是广义上的技巧，不仅包含表示乐器特有技巧的特定符号还包含在排版上的其他偏好与规则。
例如钢琴乐谱中，元音乐被分成了左手和右手部分，还出现了刮奏，踏板等乐器特有的符号。如何确定一组音符属于左手或右手也是技巧的一部分。
TODO
